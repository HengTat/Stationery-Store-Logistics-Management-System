
@{
    ViewData["Title"] = "Update Department";
    List<CollectionPoint> cplist = (List<CollectionPoint>)ViewData["cplist"];
    Department deptToEdit = (Department)ViewData["deptToEdit"];
    var msg = ViewData["alertMsg"];
}

@if (msg != null)
{
    <script type="text/javascript">
        window.onload = function () {
            alert("@msg");
        };
    </script>
}



<div align="center">
    <h1> Update Department </h1>
    <form class="form-horizontal" id="UpdateDepartmentForm" action="UpdateDepartment" method="post">
        <!-- <input name="cpId" value="@deptToEdit.Id" type="hidden" /> -->
        <div class="form-group">
            <label class="col-sm-5 control-label">Department Code: </label>
            <div class="col-sm-3">
                <input class="form-control" type="text" value="@deptToEdit.Id" name="deptId" readonly>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Name: </label>
            <div class="col-sm-3">
                <input class="form-control" type="text" value="@deptToEdit.Name" name="name">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">Collection Point: </label>
            <div class="col-sm-3">
                <select class="form-control" type="text" name="cpId">
                    @foreach (CollectionPoint cp in cplist)
                    {
                        @if (cp.Id == deptToEdit.CollectionPointId)
                        {
                            <option value="@cp.Id" selected> @cp.Name</option>
                        }
                        else
                        {
                            <option value="@cp.Id"> @cp.Name</option>
                        }
                    }
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-5 control-label">Department Head: </label>
            <div class="col-sm-3">
                @if (deptToEdit.DepartmentHead != null)
                {
                    <input class="form-control" type="text" value="@deptToEdit.DepartmentHead.Name" name="deptHead" readonly>
                }
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-5 control-label">Department Rep: </label>
            <div class="col-sm-3">
                @if (deptToEdit.DepartmentRep != null)
                {
                    <input class="form-control" type="text" value="@deptToEdit.DepartmentRep.Name" name="deptRep" readonly>
                }
            </div>
        </div>

        <div class="form-group">
            <a href="/Department/Index"><button type="button" class="btn btn-danger">Cancel</button></a>
            <button type="submit" id="btnSave" class="btn btn-success">Save</button>
        </div>
    </form>
</div>